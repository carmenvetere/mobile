type: custom:power-flow-card-plus
clickable_entities: true
card_mod:
  style: |
    ha-card {
      /* Override all text in the card to be smaller */
      font-size: 14px !important;
    }
    /* Try multiple selectors to catch all text elements */
    ha-card * {
      font-size: 14px !important;
    }
    /* Main entity values */
    ha-card .value,
    ha-card [class*="value"],
    ha-card .power-value {
      font-size: 14px !important;
      font-weight: 600 !important;
    }
    /* Entity labels */
    ha-card .label,
    ha-card [class*="label"],
    ha-card .entity-name {
      font-size: 12px !important;
      font-weight: 500 !important;
    }
    /* Individual device text (smaller) */
    ha-card .individual *,
    ha-card [class*="individual"] * {
      font-size: 11px !important;
    }
    /* Secondary info text */
    ha-card .secondary,
    ha-card [class*="secondary"] {
      font-size: 10px !important;
      opacity: 0.8;
    }
entities:
  battery:
    entity: sensor.bayberry_battery_power
    state_of_charge: sensor.bayberry_charge
    color:
      consumption: '#2ECC71'
      production: '#2ECC71'
    color_icon: true
    show_state_of_charge: true
  grid:
    entity: sensor.bayberry_site_power
    color_icon: false
    color:
      consumption:
        - 0
        - 109
        - 143
      production:
        - 96
        - 96
        - 96
      color_value: true
    power_outage:
      icon_alert: mdi:flash-alert
    use_metadata: false
    invert_state: false
    color_value: false
    secondary_info:
      entity: sensor.net_grid_export
      unit_of_measurement: kWh
  solar:
    entity: sensor.bayberry_solar_power
    color_icon: false
    color:
      - 245
      - 236
      - 0
  home:
    entity: sensor.bayberry_load_power
    subtract_individual: true
  individual:
    - entity: sensor.wall_charger_power
      display_zero: false
      name: Car Charging
      icon: mdi:car-electric
      color: '#E74C3C'
    - entity: sensor.well_pump_power
      name: Well Pump
      color: '#3ea4f0'
      color_value: false
      display_zero: false
      icon: mdi:sprinkler-variant
    - entity: sensor.omnilogic_pool_filter_pump_power
      name: Pool Filter
      color: '#5cb5e1'
      color_value: false
      display_zero: false
      icon: mdi:pool
display_zero_lines:
  mode: show
  transparency: 50
  grey_color:
    - 189
    - 189
    - 189