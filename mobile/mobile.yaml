kiosk_mode:
  non_admin_settings:
    hide_header: true
    hide_sidebar: true
    hide_search: true
    hide_assistant: true
  mobile_settings:
    hide_header: true
    hide_search: true
    hide_sidebar: false
    hide_overflow: true
views:
  - !include home-view.yaml
  - !include lights-view.yaml
  - !include climate-view.yaml
  - title: Shades - Main
    type: sections
    max_columns: 1
    path: shades-main
    icon: mdi:roller-shade
    dense_section_placement: true
    sections:
      - type: grid
        cards:
          - type: custom:stack-in-card
            mode: horizontal
            card_mod:
              style: |
                ha-card {
                  background: "rgb(92, 83, 103)";
                  border-radius: 20px;
                  padding: 10px 5px 10px 5px; 
                  }
            cards:
              - type: custom:mushroom-chips-card
                card_mod:
                  style: |
                    ha-card {
                      overflow: hidden !important;
                    }
                    ha-card > * {
                      display: flex !important;
                      flex-wrap: nowrap !important;
                      overflow-x: auto !important;
                      overflow-y: hidden !important;
                      gap: 8px !important;
                    }
                    ha-card > * > * {
                      flex-shrink: 0 !important;
                    }
                    /* More aggressive targeting */
                    ha-card ::-webkit-scrollbar {
                      height: 4px;
                    }
                    ha-card ::-webkit-scrollbar-track {
                      background: transparent;
                    }
                    ha-card ::-webkit-scrollbar-thumb {
                      background: rgba(255, 255, 255, 0.3);
                      border-radius: 2px;
                    }
                    /* Try to target all possible chip containers */
                    mushroom-chips,
                    .chip-container,
                    [class*="chip"] {
                      display: flex !important;
                      flex-wrap: nowrap !important;
                      overflow-x: auto !important;
                      overflow-y: hidden !important;
                      width: 100% !important;
                    }
                    mushroom-chip,
                    [class*="chip"]:not([class*="container"]) {
                      flex-shrink: 0 !important;
                      white-space: nowrap !important;
                    }
                chips:
                  - type: template
                    content: Back
                    tap_action:
                      action: navigate
                      navigation_path: /mobile-dash/mobile-home
                    icon: mdi:chevron-left
                    card_mod:
                      style: |
                        :host {
                          zoom: 1.25 !important;
                          --chip-background: var(--background-color-2);
                        }
          - type: custom:expander-card
            expanded: true
            title-card-clickable: true
            title-card:
              type: custom:bubble-card
              card_type: separator
              name: Groups
              icon: mdi:roller-shade
              rows: 0.75
              styles: |
                .bubble-name {
                  font-size: 20px !important;  /* title */
                  font-weight: bold !important;
                }
                .bubble-sub-button 
                {
                  font-size: 20px !important;
                  font-weight: 700 !important;
                }
                .bubble-line {
                  background: var(--primary-text-color);
                  opacity: 0.1;
                }
                .card-content {
                  padding-top: 7px !important;
                }
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.first_floor_all
                    name: First Floor - All
                    scrolling_effect: false
                    show_state: true
                    tap_action:
                      action: toggle
                    button_action: {}
                    sub_button:
                      - entity: cover.first_floor_all
                        icon: mdi:sun-angle
                        state_background: false
                        show_state: false
                        tap_action:
                          action: perform-action
                          perform_action: cover.set_cover_position
                          target:
                            entity_id: cover.first_floor_all
                          data:
                            position: 55
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.first_floor_front
                    name: First Floor - Front
                    scrolling_effect: false
                    show_state: true
                    tap_action:
                      action: toggle
                    button_action: {}
                    sub_button:
                      - entity: cover.first_floor_front
                        icon: mdi:sun-angle
                        state_background: false
                        show_state: false
                        tap_action:
                          action: perform-action
                          perform_action: cover.set_cover_position
                          target:
                            entity_id: cover.first_floor_front
                          data:
                            position: 55
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.living_room_side_shades
                    name: Living Room - Side
                    scrolling_effect: false
                    show_state: true
                    tap_action:
                      action: toggle
                    button_action: {}
                    sub_button:
                      - entity: cover.living_room_side_shades
                        icon: mdi:sun-angle
                        state_background: false
                        show_state: false
                        tap_action:
                          action: perform-action
                          perform_action: cover.set_cover_position
                          target:
                            entity_id: cover.living_room_side_shades
                          data:
                            position: 55
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.dining_room_side
                    name: Dining Room - Side
                    scrolling_effect: false
                    show_state: true
                    tap_action:
                      action: toggle
                    button_action: {}
                    sub_button:
                      - entity: cover.dining_room_side
                        icon: mdi:sun-angle
                        state_background: false
                        show_state: false
                        tap_action:
                          action: perform-action
                          perform_action: cover.set_cover_position
                          target:
                            entity_id: cover.dining_room_side
                          data:
                            position: 55
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
          - type: custom:expander-card
            expanded: false
            title-card-clickable: true
            title-card:
              type: custom:bubble-card
              card_type: separator
              name: First Floor
              icon: mdi:home-floor-1
              rows: 0.75
              styles: |
                .bubble-name {
                  font-size: 20px !important;  /* title */
                  font-weight: bold !important;
                }
                .bubble-sub-button 
                {
                  font-size: 20px !important;
                  font-weight: 700 !important;
                }
                .bubble-line {
                  background: var(--primary-text-color);
                  opacity: 0.1;
                }
                .card-content {
                  padding-top: 7px !important;
                }
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:bubble-card
                    card_type: separator
                    name: Living Room
                    icon: mdi:sofa
                    rows: 0.75
                    styles: |
                      .bubble-name {
                        font-size: 16px !important;  /* title */
                        font-weight: bold !important;
                      }
                      .bubble-line {
                        background: var(--primary-text-color);
                        opacity: 0.1;
                      }
                      .card-content {
                        padding-top: 7px !important;
                      }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.living_room_front_left_cover
                    name: Front Left
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.living_room_front_left_battery_0
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.living_room_front_right
                    name: Front Right
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.living_room_front_right_battery
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.living_room_side_left_1_cover
                    name: Side Left 1
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.living_room_side_left_1_battery_0
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.living_room_side_left_2_cover_2
                    name: Side Left 2
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.living_room_side_left_2_battery_0
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.living_room_side_right_1_cover
                    name: Side Right 1
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.living_room_side_right_1_battery_0
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.living_room_side_right_2_cover
                    name: Side Right 2
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.living_room_side_right_2_battery_0
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: separator
                    name: Dining Room
                    icon: mdi:food-fork-drink
                    rows: 0.75
                    styles: |
                      .bubble-name {
                        font-size: 16px !important;  /* title */
                        font-weight: bold !important;
                      }
                      .bubble-line {
                        background: var(--primary-text-color);
                        opacity: 0.1;
                      }
                      .card-content {
                        padding-top: 7px !important;
                      }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.front_right_cover
                    name: Front Right
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.front_right_battery_0
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    button_type: slider
                    entity: cover.front_left_cover
                    name: Front Left
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.dining_room_front_left_battery_0
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.side_right_cover
                    name: Side Right
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.side_right_battery_0
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.side_left_cover
                    name: Side Left
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.side_left_battery_2
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
          - type: custom:expander-card
            expanded: false
            title-card-clickable: true
            title-card:
              type: custom:bubble-card
              card_type: separator
              name: Second Floor
              icon: mdi:home-floor-2
              rows: 0.75
              styles: |
                .bubble-name {
                  font-size: 20px !important;  /* title */
                  font-weight: bold !important;
                }
                .bubble-sub-button 
                {
                  font-size: 20px !important;
                  font-weight: 700 !important;
                }
                .bubble-line {
                  background: var(--primary-text-color);
                  opacity: 0.1;
                }
                .card-content {
                  padding-top: 7px !important;
                }
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:bubble-card
                    card_type: cover
                    button_type: slider
                    entity: cover.bedroom_side_shades
                    name: Bedroom Side
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: cover.bedroom_side_shades
                        tap_action:
                          action: perform-action
                          perform_action: cover.set_cover_position
                          target:
                            entity_id: cover.bedroom_side_shades
                          data:
                            position: 55
                        icon: mdi:sun-angle
                        show_background: false
                        show_state: false
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.bedroom_back
                    name: Bedroom Back
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: cover.bedroom_back
                        tap_action:
                          action: perform-action
                          perform_action: cover.set_cover_position
                          target:
                            entity_id: cover.bedroom_back
                          data:
                            position: 55
                        icon: mdi:sun-angle
                        show_background: false
                        show_state: false
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: separator
                    name: Bedroom
                    icon: mdi:bed-king
                    rows: 0.75
                    styles: |
                      .bubble-name {
                        font-size: 16px !important;  /* title */
                        font-weight: bold !important;
                      }
                      .bubble-line {
                        background: var(--primary-text-color);
                        opacity: 0.1;
                      }
                      .card-content {
                        padding-top: 7px !important;
                      }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.hallway_1
                    name: Hallway 1
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.hallway_1_battery
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.hallway_2
                    name: Hallway 2
                    icon: mdi:roller-shade
                    show_state: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.hallway_2_battery_0
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.bedroom_right
                    name: Right
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.bedroom_right_battery_0
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.bedroom_left
                    name: Left
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.bedroom_left_battery_0
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.bedroom_back_1_cover
                    name: Back 1
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.bedroom_back_1_battery_0
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.back_2
                    name: Back 2
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.back_2_battery
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.back_3
                    name: Back 3
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.back_3_battery
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.bedroom_back_4_cover
                    name: Back 4
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.bedroom_back_4_battery_0
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
                  - type: custom:bubble-card
                    card_type: cover
                    entity: cover.bedroom_back_5_cover
                    name: Back 5
                    icon: mdi:roller-shade
                    show_state: true
                    slider_live_update: true
                    card_layout: large
                    tap_action:
                      action: toggle
                    sub_button:
                      - entity: sensor.bedroom_back_5_battery_0
                        icon: mdi:battery
                        show_background: false
                        show_state: true
                    styles: |-
                      .bubble-name {
                          font-size: 16px !important;
                        }
    badges: null
    theme: Bubble
    cards: []
    header:
      card:
        type: markdown
        content: |
          # <ha-icon icon="mdi:roller-shade"></ha-icon> Shades
      layout: start
    card_mod:
      style: |
        .: |
          .badge-container ha-state-label-badge {
            --ha-label-badge-size: 58px;
            --ha-label-badge-font-size: 18px;
            --mdc-icon-size: 26px;
            border-radius: 28px;
            background: var(--secondary-background-color);
            color: var(--primary-text-color);
          }
  - title: Security
    type: sections
    max_columns: 1
    theme: Bubble
    path: security
    icon: mdi:shield-home
    sections:
      - type: grid
        cards:
          - type: custom:stack-in-card
            mode: horizontal
            card_mod:
              style: |
                ha-card {
                  background: "rgb(92, 83, 103)";
                  border-radius: 20px;
                  padding: 10px 5px 10px 5px; 
                  }
            cards:
              - type: custom:mushroom-chips-card
                card_mod:
                  style: |
                    ha-card {
                      overflow: hidden !important;
                    }
                    ha-card > * {
                      display: flex !important;
                      flex-wrap: nowrap !important;
                      overflow-x: auto !important;
                      overflow-y: hidden !important;
                      gap: 8px !important;
                    }
                    ha-card > * > * {
                      flex-shrink: 0 !important;
                    }
                    /* More aggressive targeting */
                    ha-card ::-webkit-scrollbar {
                      height: 4px;
                    }
                    ha-card ::-webkit-scrollbar-track {
                      background: transparent;
                    }
                    ha-card ::-webkit-scrollbar-thumb {
                      background: rgba(255, 255, 255, 0.3);
                      border-radius: 2px;
                    }
                    /* Try to target all possible chip containers */
                    mushroom-chips,
                    .chip-container,
                    [class*="chip"] {
                      display: flex !important;
                      flex-wrap: nowrap !important;
                      overflow-x: auto !important;
                      overflow-y: hidden !important;
                      width: 100% !important;
                    }
                    mushroom-chip,
                    [class*="chip"]:not([class*="container"]) {
                      flex-shrink: 0 !important;
                      white-space: nowrap !important;
                    }
                chips:
                  - type: template
                    content: Back
                    tap_action:
                      action: navigate
                      navigation_path: /mobile-dash/mobile-home
                    icon: mdi:chevron-left
                    card_mod:
                      style: |
                        :host {
                          zoom: 1.25 !important;
                          --chip-background: var(--background-color-2);
                        }
                  - type: template
                    icon: mdi:shield-home
                    content: |-
                      {{ states('alarm_control_panel.bayberry_alarm_v2')
                           | replace('_', ' ')
                           | title }}
                    entity: alarm_control_panel.bayberry_alarm_v2
                    tap_action:
                      action: more-info
                    icon_color: >-
                      {% if states('alarm_control_panel.bayberry_alarm_v2') ==
                      'disarmed' %}
                        green
                      {% elif states('alarm_control_panel.bayberry_alarm_v2') ==
                      'armed_home' %}
                        orange
                      {% elif states('alarm_control_panel.bayberry_alarm_v2') ==
                      'armed_away' %}
                        red
                      {% else %}
                        gray
                      {% endif %}
                    card_mod:
                      style: |
                        :host {
                          zoom: 1.25 !important;
                          --chip-background: var(--background-color-2);
                        }   
                  - type: template
                    icon: mdi:door-closed
                    entity: binary_sensor.all_doors_including_garage
                    content: >-
                      {% set s =
                      states('binary_sensor.all_doors_including_garage') %} {{
                      'Open' if s == 'on' else 'All Closed' if s == 'off' else s
                      | replace('_', ' ') | title }}
                    tap_action:
                      action: more-info
                    icon_color: >-
                      {% if states('binary_sensor.all_doors_including_garage')
                      == 'off' %}
                        green
                      {% elif states('binary_sensor.all_doors_including_garage')
                      == 'on' %}
                        amber
                      {% else %}
                        gray
                      {% endif %}
                    card_mod:
                      style: |
                        :host {
                          zoom: 1.25 !important;
                          --chip-background: var(--background-color-2);
                        }
          - type: custom:expander-card
            expanded: false
            title-card-clickable: true
            title-card:
              type: custom:bubble-card
              card_type: separator
              name: Door Status
              icon: mdi:lock
              rows: 0.75
              styles: |
                .bubble-name {
                  font-size: 20px !important;  /* title */
                  font-weight: bold !important;
                }
                .bubble-sub-button 
                {
                  font-size: 20px !important;
                  font-weight: 700 !important;
                }
                .bubble-line {
                  background: var(--primary-text-color);
                  opacity: 0.1;
                }
                .card-content {
                  padding-top: 7px !important;
                }
            cards:
              - type: entities
                card_mod:
                  style: |
                    ha-card {
                      font-size: 16px;
                      font-weight: bold;
                    }
                entities:
                  - entity: binary_sensor.front_door
                  - entity: binary_sensor.living_room_french_doors
                  - entity: binary_sensor.kitchen_french_doors
                  - entity: binary_sensor.mudroom_entry_door
                  - entity: binary_sensor.mudroom_garage_door
                  - entity: cover.garage_door_garage
          - type: custom:stack-in-card
            mode: vertical
            card_mod:
              style: |
                ha-card {
                  background: var(--ha-card-background);
                  border-radius: 20px;
                  padding: 10;
                }
            cards:
              - type: custom:bubble-card
                card_type: separator
                name: Front
                icon: mdi:cctv
                rows: 0.75
                styles: |
                  .bubble-name {
                  font-size: 20px !important;  /* title */
                  font-weight: bold !important;
                  }
                  .bubble-line {
                  background: var(--primary-text-color);
                  opacity: 0.1;
                  }
                  .card-content {
                  padding-top: 10px !important;
                  padding-left: 10px !important;
                  }
              - type: picture-entity
                show_state: false
                show_name: false
                camera_view: auto
                fit_mode: cover
                entity: camera.front_high_resolution_channel
                camera_image: camera.front_high_resolution_channel
          - type: custom:stack-in-card
            mode: vertical
            card_mod:
              style: |
                ha-card {
                  background: var(--ha-card-background);
                  border-radius: 20px;
                  padding: 10;
                }
            cards:
              - type: custom:bubble-card
                card_type: separator
                name: Driveway
                icon: mdi:cctv
                rows: 0.75
                styles: |
                  .bubble-name {
                  font-size: 20px !important;  /* title */
                  font-weight: bold !important;
                  }
                  .bubble-line {
                  background: var(--primary-text-color);
                  opacity: 0.1;
                  }
                  .card-content {
                  padding-top: 10px !important;
                  padding-left: 10px !important;
                  }
              - type: picture-entity
                show_state: false
                show_name: false
                camera_view: auto
                fit_mode: cover
                entity: camera.driveway_high_resolution_channel
                camera_image: camera.driveway_high_resolution_channel
          - type: custom:stack-in-card
            mode: vertical
            card_mod:
              style: |
                ha-card {
                  background: var(--ha-card-background);
                  border-radius: 20px;
                  padding: 10;
                }
            cards:
              - type: custom:bubble-card
                card_type: separator
                name: Pool
                icon: mdi:cctv
                rows: 0.75
                styles: |
                  .bubble-name {
                  font-size: 20px !important;  /* title */
                  font-weight: bold !important;
                  }
                  .bubble-line {
                  background: var(--primary-text-color);
                  opacity: 0.1;
                  }
                  .card-content {
                  padding-top: 10px !important;
                  padding-left: 10px !important;
                  }
              - type: picture-entity
                show_state: false
                show_name: false
                camera_view: auto
                fit_mode: cover
                entity: camera.pool_high_resolution_channel
                camera_image: camera.pool_high_resolution_channel
          - type: custom:llmvision-card
            entity: calendar.llm_vision_timeline_2
            number_of_hours: 168
            number_of_events: 5
            language: en
            header: Recent Events
    header:
      card:
        type: markdown
        content: |
          # <ha-icon icon="mdi:shield-home"></ha-icon> Security
      layout: start
    card_mod:
      style: |
        .: |
          .badge-container ha-state-label-badge {
            --ha-label-badge-size: 58px;
            --ha-label-badge-font-size: 18px;
            --mdc-icon-size: 26px;
            border-radius: 28px;
            background: var(--secondary-background-color);
            color: var(--primary-text-color);
          }
      badges_position: bottom
      badges_wrap: wrap
    badges: null
    cards: []
  - title: Energy
    type: sections
    max_columns: 1
    theme: Bubble
    path: energy
    icon: mdi:lightning-bolt
    sections:
      - type: grid
        cards:
          - type: custom:stack-in-card
            mode: horizontal
            card_mod:
              style: |
                ha-card {
                  background: "rgb(92, 83, 103)";
                  border-radius: 20px;
                  padding: 10px 5px 10px 5px; 
                  }
            cards:
              - type: custom:mushroom-chips-card
                card_mod:
                  style: |
                    ha-card {
                      overflow: hidden !important;
                    }
                    ha-card > * {
                      display: flex !important;
                      flex-wrap: nowrap !important;
                      overflow-x: auto !important;
                      overflow-y: hidden !important;
                      gap: 8px !important;
                    }
                    ha-card > * > * {
                      flex-shrink: 0 !important;
                    }
                    /* More aggressive targeting */
                    ha-card ::-webkit-scrollbar {
                      height: 4px;
                    }
                    ha-card ::-webkit-scrollbar-track {
                      background: transparent;
                    }
                    ha-card ::-webkit-scrollbar-thumb {
                      background: rgba(255, 255, 255, 0.3);
                      border-radius: 2px;
                    }
                    /* Try to target all possible chip containers */
                    mushroom-chips,
                    .chip-container,
                    [class*="chip"] {
                      display: flex !important;
                      flex-wrap: nowrap !important;
                      overflow-x: auto !important;
                      overflow-y: hidden !important;
                      width: 100% !important;
                    }
                    mushroom-chip,
                    [class*="chip"]:not([class*="container"]) {
                      flex-shrink: 0 !important;
                      white-space: nowrap !important;
                    }
                chips:
                  - type: template
                    content: Back
                    tap_action:
                      action: navigate
                      navigation_path: /mobile-dash/mobile-home
                    icon: mdi:chevron-left
                    card_mod:
                      style: |
                        :host {
                          zoom: 1.25 !important;
                          --chip-background: var(--background-color-2);
                        }
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: switch.bayberry_off_grid_operation
                        state: 'on'
                    chip:
                      type: entity
                      entity: sensor.bayberry_charge
                      icon: mdi:home-battery
                      icon_color: red
                      tap_action:
                        action: more-info
                      card_mod:
                        style: |
                          :host {
                            zoom: 1.25 !important;
                            --chip-background: var(--background-color-2);
          - type: custom:expander-card
            expanded: false
            title-card-clickable: true
            title-card:
              type: custom:bubble-card
              card_type: separator
              name: Solar Forecast
              icon: mdi:solar-power
              rows: 0.75
              styles: |
                .bubble-name {
                  font-size: 20px !important;  /* title */
                  font-weight: bold !important;
                }
                .bubble-sub-button 
                {
                  font-size: 20px !important;
                  font-weight: 700 !important;
                }
                .bubble-line {
                  background: var(--primary-text-color);
                  opacity: 0.1;
                }
                .card-content {
                  padding-top: 7px !important;
                }
            cards:
              - type: entities
                card_mod:
                  style: |
                    ha-card {
                      /* increase all text inside this card */
                      font-size: 16px;
                    }
                entities:
                  - entity: sensor.solcast_pv_forecast_forecast_today
                    name: Solar Forecast Today
                  - entity: sensor.solcast_pv_forecast_forecast_tomorrow
                    name: Solar Forecast Tomorrow
                  - entity: sensor.rear_solar_array
                    name: Live Rear Solar Array Production
                  - entity: sensor.front_solar_array
                    name: Live Front Solar Array Production
          - type: custom:stack-in-card
            mode: vertical
            card_mod:
              style: |
                ha-card {
                  background: var(--ha-card-background);
                  border-radius: 20px;
                  padding: 10;
                }
            cards:
              - type: custom:bubble-card
                card_type: separator
                name: Live Power Flow
                icon: mdi:flash
                rows: 0.75
                styles: |
                  .bubble-name {
                  font-size: 20px !important;  /* title */
                  font-weight: bold !important;
                  }
                  .bubble-line {
                  background: var(--primary-text-color);
                  opacity: 0.1;
                  }
                  .card-content {
                  padding-top: 10px !important;
                  padding-left: 10px !important;
                  }
              - type: custom:power-flow-card-plus
                clickable_entities: true
                entities:
                  battery:
                    entity: sensor.bayberry_battery_power
                    state_of_charge: sensor.bayberry_charge
                    color:
                      consumption: '#2ECC71'
                      production: '#2ECC71'
                    color_icon: true
                    show_state_of_charge: true
                  grid:
                    entity: sensor.bayberry_site_power
                    color_icon: false
                    color:
                      consumption:
                        - 0
                        - 109
                        - 143
                      production:
                        - 96
                        - 96
                        - 96
                      color_value: true
                    power_outage:
                      icon_alert: mdi:flash-alert
                    use_metadata: false
                    invert_state: false
                    color_value: false
                    secondary_info:
                      entity: sensor.net_grid_export
                      unit_of_measurement: kWh
                  solar:
                    entity: sensor.bayberry_solar_power
                    color_icon: false
                    color:
                      - 245
                      - 236
                      - 0
                  home:
                    entity: sensor.bayberry_load_power
                    subtract_individual: true
                  individual:
                    - entity: sensor.tesla_wall_connector_power
                      display_zero: false
                      name: Car Charging
                      icon: mdi:car-electric
                      color: '#E74C3C'
                    - entity: sensor.well_pump_power
                      name: Well Pump
                      color: '#3ea4f0'
                      color_value: false
                      display_zero: false
                      icon: mdi:sprinkler-variant
                    - entity: sensor.omnilogic_pool_filter_pump_power
                      name: Pool Filter
                      color: '#5cb5e1'
                      color_value: false
                      display_zero: false
                      icon: mdi:pool
                display_zero_lines:
                  mode: show
                  transparency: 50
                  grey_color:
                    - 189
                    - 189
                    - 189
          - type: custom:stack-in-card
            mode: vertical
            card_mod:
              style: |
                ha-card {
                  background: var(--ha-card-background);
                  border-radius: 20px;
                  padding: 10;
                }
            cards:
              - type: custom:bubble-card
                card_type: separator
                name: Power (last 24 hrs)
                icon: mdi:flash
                rows: 0.75
                styles: |
                  .bubble-name {
                  font-size: 20px !important;  /* title */
                  font-weight: bold !important;
                  }
                  .bubble-line {
                  background: var(--primary-text-color);
                  opacity: 0.1;
                  }
                  .card-content {
                  padding-top: 10px !important;
                  padding-left: 10px !important;
                  }
              - type: history-graph
                entities:
                  - entity: sensor.bayberry_site_power
                    name: Grid
                  - entity: sensor.bayberry_solar_power
                    name: Solar
                  - entity: sensor.bayberry_load_power
                    name: Home
                hours_to_show: 24
    header:
      card:
        type: markdown
        content: |
          # <ha-icon icon="mdi:lightning-bolt"></ha-icon> Energy
      layout: start
    card_mod:
      style: |
        .: |
          .badge-container ha-state-label-badge {
            --ha-label-badge-size: 58px;
            --ha-label-badge-font-size: 18px;
            --mdc-icon-size: 26px;
            border-radius: 28px;
            background: var(--secondary-background-color);
            color: var(--primary-text-color);
          }
      badges_position: bottom
      badges_wrap: wrap
    badges: null
    cards: []
  - title: Weather
    type: sections
    max_columns: 1
    path: weather
    icon: mdi:weather-partly-cloudy
    theme: Bubble
    dense_section_placement: true
    sections:
      - type: grid
        cards:
          - type: custom:stack-in-card
            mode: horizontal
            card_mod:
              style: |
                ha-card {
                  background: "rgb(92, 83, 103)";
                  border-radius: 20px;
                  padding: 10px 5px 10px 5px; 
                  }
            cards:
              - type: custom:mushroom-chips-card
                card_mod:
                  style: |
                    ha-card {
                      overflow: hidden !important;
                    }
                    ha-card > * {
                      display: flex !important;
                      flex-wrap: nowrap !important;
                      overflow-x: auto !important;
                      overflow-y: hidden !important;
                      gap: 8px !important;
                    }
                    ha-card > * > * {
                      flex-shrink: 0 !important;
                    }
                    /* More aggressive targeting */
                    ha-card ::-webkit-scrollbar {
                      height: 4px;
                    }
                    ha-card ::-webkit-scrollbar-track {
                      background: transparent;
                    }
                    ha-card ::-webkit-scrollbar-thumb {
                      background: rgba(255, 255, 255, 0.3);
                      border-radius: 2px;
                    }
                    /* Try to target all possible chip containers */
                    mushroom-chips,
                    .chip-container,
                    [class*="chip"] {
                      display: flex !important;
                      flex-wrap: nowrap !important;
                      overflow-x: auto !important;
                      overflow-y: hidden !important;
                      width: 100% !important;
                    }
                    mushroom-chip,
                    [class*="chip"]:not([class*="container"]) {
                      flex-shrink: 0 !important;
                      white-space: nowrap !important;
                    }
                chips:
                  - type: template
                    content: Back
                    tap_action:
                      action: navigate
                      navigation_path: /mobile-dash/mobile-home
                    icon: mdi:chevron-left
                    card_mod:
                      style: |
                        :host {
                          zoom: 1.25 !important;
                          --chip-background: var(--background-color-2);
                        }        
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: sensor.nws_alerts_alerts
                above: 0
            card:
              type: custom:expander-card
              expanded: true
              title-card-clickable: true
              title-card:
                type: custom:bubble-card
                card_type: separator
                name: Active Weather Alerts
                icon: mdi:alert
                rows: 0.75
                styles: |
                  .bubble-name {
                  font-size: 20px !important;  /* title */
                  font-weight: bold !important;
                  }
                  .bubble-line {
                  background: var(--primary-text-color);
                  opacity: 0.1;
                  }
                  .card-content {
                  padding-top: 10px !important;
                  padding-left: 10px !important;
                  }  
              cards:
                - type: markdown
                  content: |                    
                    {% set alerts = state_attr('sensor.nws_alerts_alerts', 'Alerts') %}
                    {% if alerts and alerts|length > 0 %}
                      {% for alert in alerts %}
                    ### {{ alert.Event }}
                    
                    **{{ alert.Headline }}**
                    
                    {{ alert.Description }}
                    
                    {% if alert.Instruction %}
                    **Instructions:**
                    {{ alert.Instruction }}
                    {% endif %}
                    
                    *Expires: {{ alert.Expires | as_timestamp | timestamp_custom('%B %d, %Y at %I:%M %p') }}*
                    
                    ---
                      {% endfor %}
                    {% else %}
                     **No active weather alerts**
                    {% endif %}
          - type: custom:stack-in-card
            mode: vertical
            keep:
              background: true
              border_radius: true
            card_mod:
              style: |
                ha-card {
                  background: "rgb(92, 83, 103)";
                  border-radius: 20px;
                  padding: 12px 12px 4px;       /* top / sides / bottom */
            cards:
              - type: custom:bubble-card
                card_type: separator
                name: Live Weather
                icon: mdi:weather-partly-cloudy
                rows: 0.75
                styles: |
                  .bubble-name {
                  font-size: 20px !important;  /* title */
                  font-weight: bold !important;
                  }
                  .bubble-line {
                  background: var(--primary-text-color);
                  opacity: 0.1;
                  }
                  .card-content {
                  padding-top: 10px !important;
                  padding-left: 10px !important;
                  }
              - type: grid
                columns: 2
                square: false
                cards:
                  - graph: line
                    type: sensor
                    entity: sensor.bayberry_tempest_temperature
                    detail: 2
                    name: Temperature
                    theme: Bubble
                    card_mod:
                      style: |
                        ha-card {
                          background: var(--background-color-2);
                          border-radius: 18px;
                        }
                  - graph: line
                    type: sensor
                    entity: sensor.bayberry_tempest_humidity
                    detail: 1
                    name: Humidity
                    card_mod:
                      style: |
                        ha-card {
                          background: var(--background-color-2);
                          border-radius: 18px;
                        }
                  - graph: line
                    type: sensor
                    entity: sensor.bayberry_tempest_wind_speed_average
                    detail: 1
                    name: Average Wind Speed
                    card_mod:
                      style: |
                        ha-card {
                          background: var(--background-color-2);
                          border-radius: 18px;
                        }
                  - graph: line
                    type: sensor
                    entity: sensor.bayberry_tempest_wind_gust
                    detail: 1
                    name: Wind Gust
                    card_mod:
                      style: |
                        ha-card {
                          background: var(--background-color-2);
                          border-radius: 18px;
                        }
                  - graph: line
                    type: sensor
                    entity: sensor.bayberry_tempest_precipitation
                    detail: 1
                    name: Precipitation
                    card_mod:
                      style: |
                        ha-card {
                          background: var(--background-color-2);
                          border-radius: 18px;
                        }
                  - graph: line
                    type: sensor
                    entity: sensor.bayberry_tempest_illuminance
                    detail: 1
                    name: Illuminance
                    card_mod:
                      style: |
                        ha-card {
                          background: var(--background-color-2);
                          border-radius: 18px;
                        }
    header:
      card:
        type: markdown
        content: |
          # <ha-icon icon="mdi:weather-partly-cloudy"></ha-icon> Weather
      layout: start
    card_mod:
      style: |
        .: |
          .badge-container ha-state-label-badge {
            --ha-label-badge-size: 58px;
            --ha-label-badge-font-size: 18px;
            --mdc-icon-size: 26px;
            border-radius: 28px;
            background: var(--secondary-background-color);
            color: var(--primary-text-color);
          }
      layout: start
      badges_position: bottom
      badges_wrap: wrap
    badges: null
  - title: Pool
    type: sections
    max_columns: 1
    path: pool
    icon: mdi:pool
    theme: Bubble
    dense_section_placement: true
    header:
      card:
        type: custom:stack-in-card
        mode: vertical
        keep:
          background: true
          border_radius: true
        card_mod:
          style: |
            ha-card {
              background: "rgb(92, 83, 103)";
              border-radius: 20px;
              padding: 5px 12px 5px 12px;
              }
        cards:
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: separator
                name: Pool
                icon: mdi:pool
                rows: 0.75
                styles: |
                  .bubble-name {
                    font-size: 30px !important;  /* title */
                    font-weight: bold !important;
                  }
                  .bubble-line-background-color {
                    background: var(--primary-text-color);
                    opacity: 0.1;
                  }
                  .card-content {
                    padding-top: 7px !important;
                  }
                  .bubble-sub-button 
                    {
                      font-size: 16px !important;
                      font-weight: 700 !important;
                    }
                  .bubble-icon
                    {
                      icon-height: 50px !important;
                      }
      layout: start
      badges_position: bottom
      badges_wrap: wrap
    badges:
    cards: []  
    sections:
      - type: grid
        cards:
          - type: custom:stack-in-card
            mode: horizontal
            card_mod:
              style: |
                ha-card {
                  background: "rgb(92, 83, 103)";
                  border-radius: 20px;
                  padding: 10px 5px 10px 5px; 
                  }
            cards:
              - type: custom:mushroom-chips-card
                card_mod:
                  style: |
                    ha-card {
                      overflow: hidden !important;
                    }
                    ha-card > * {
                      display: flex !important;
                      flex-wrap: nowrap !important;
                      overflow-x: auto !important;
                      overflow-y: hidden !important;
                      gap: 8px !important;
                    }
                    ha-card > * > * {
                      flex-shrink: 0 !important;
                    }
                    /* More aggressive targeting */
                    ha-card ::-webkit-scrollbar {
                      height: 4px;
                    }
                    ha-card ::-webkit-scrollbar-track {
                      background: transparent;
                    }
                    ha-card ::-webkit-scrollbar-thumb {
                      background: rgba(255, 255, 255, 0.3);
                      border-radius: 2px;
                    }
                    /* Try to target all possible chip containers */
                    mushroom-chips,
                    .chip-container,
                    [class*="chip"] {
                      display: flex !important;
                      flex-wrap: nowrap !important;
                      overflow-x: auto !important;
                      overflow-y: hidden !important;
                      width: 100% !important;
                    }
                    mushroom-chip,
                    [class*="chip"]:not([class*="container"]) {
                      flex-shrink: 0 !important;
                      white-space: nowrap !important;
                    }
                chips:
                  - type: template
                    content: Back
                    tap_action:
                      action: navigate
                      navigation_path: /mobile-dash/mobile-home
                    icon: mdi:chevron-left
                    card_mod:
                      style: |
                        :host {
                          zoom: 1.25 !important;
                          --chip-background: var(--background-color-2);
                        }
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.omnilogic_pool_watersensor
                        state_not: unknown
                      - condition: state
                        entity: sensor.omnilogic_pool_watersensor
                        state_not: unavailable
                    chip:
                      type: entity
                      entity: sensor.omnilogic_pool_watersensor
                      tap_action:
                        action: more-info
                      icon: mdi:pool-thermometer
                      icon_color: cyan
                      card_mod:
                        style: |
                          :host {
                            zoom: 1.25 !important;
                            --chip-background: var(--background-color-2);
                          } 
                  - type: template
                    entity: binary_sensor.pool_cover
                    icon: mdi:garage-variant
                    icon_color: amber
                    content: |
                      Pool Cover  {% if is_state(entity, 'off') %}
                        Closed
                      {% elif is_state(entity, 'on') %}
                        Open
                      {% else %}
                        Unknown
                      {% endif %}
                    tap_action:
                      action: more-info
                    card_mod:
                        style: |
                          :host {
                            zoom: 1.25 !important;
                            --chip-background: var(--background-color-2);
                          }   
                  - type: template
                    entity: binary_sensor.pool_cover_pump
                    icon: mdi:water-pump
                    icon_color: blue
                    content: |
                      Cover Pump {{ states(entity) | title }}
                    tap_action:
                      action: more-info
                    card_mod:
                        style: |
                          :host {
                            zoom: 1.25 !important;
                            --chip-background: var(--background-color-2);
                          } 
      - type: custom:stack-in-card
        mode: vertical
        card_mod:
          style: |
            ha-card {
              background: "rgb(92, 83, 103)";
              border-radius: 20px;
              padding: 12px 12px 4px;       /* top / sides / bottom */
        cards:
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: separator
                name: Pump
                icon: mdi:menu-open
                rows: 0.75
                styles: |
                  .bubble-name {
                    font-size: 20px !important;  /* title */
                    font-weight: bold !important;
                  }
                  .bubble-line {
                    background: var(--primary-text-color);
                    opacity: 0.1;
                  }
                  .card-content {
                    padding-top: 7px !important;
                  }
              - type: custom:bubble-card
                card_type: button
                entity: switch.omnilogic_pool_filter_pump
                show_state: true
                styles: |-
                  .bubble-sub-button 
                  {
                    font-size: 14px !important;
                    font-weight: 700 !important;
                  }
                  .bubble-name {
                      font-size: 16px !important;
                    }
                sub_button:
                  - entity: number.omnilogic_pool_filter_pump_speed
                    show_state: true
                    show_attribute: true
                name: Filter Pump
                icon: mdi:pump
              - type: custom:bubble-card
                card_type: button
                entity: number.omnilogic_pool_filter_pump_speed
                button_type: slider
                tap_action:
                  action: none
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                name: Pump Speed
                show_state: true
                show_attribute: true
                attribute: current_percent
                slider_live_update: true
                styles: |-
                  .bubble-sub-button 
                  {
                    font-size: 14px !important;
                    font-weight: 700 !important;
                  }
                  .bubble-name {
                      font-size: 16px !important;
                    }
                sub_button:
                  - entity: button.omnilogic_pool_filter_pump_low_speed
                    name: Low
                    show_state: false
                    show_name: true
                    tap_action:
                      action: perform-action
                      perform_action: button.press
                      target:
                        entity_id: button.omnilogic_pool_filter_pump_low_speed
                  - entity: button.omnilogic_pool_filter_pump_medium_speed
                    name: Medium
                    show_state: false
                    show_name: true
                    tap_action:
                      action: perform-action
                      perform_action: button.press
                      target:
                        entity_id: button.omnilogic_pool_filter_pump_medium_speed
                  - entity: button.omnilogic_pool_filter_pump_high_speed
                    name: High
                    show_state: false
                    show_name: true
                    tap_action:
                      action: perform-action
                      perform_action: button.press
                      target:
                        entity_id: button.omnilogic_pool_filter_pump_high_speed
              - type: custom:bubble-card
                card_type: separator
                name: Heater
                icon: mdi:menu-open
                rows: 0.75
                styles: |
                  .bubble-name {
                    font-size: 20px !important;  /* title */
                    font-weight: bold !important;
                  }
                  .bubble-line {
                    background: var(--primary-text-color);
                    opacity: 0.1;
                  }
                  .card-content {
                    padding-top: 7px !important;
                  }
              - type: custom:bubble-card
                card_type: climate
                entity: water_heater.omnilogic_pool_heater
                name: Pool Heater Temp
                icon: mdi:water-boiler
                show_state: false
                tap_action:
                  action: none
                card_layout: large
                styles: |-
                  .bubble-name {
                      font-size: 16px !important;
                    }
                  .bubble-temperature-display {
                      font-size: 16px !important;
                      font-weight: bold;
                    }
              - type: custom:bubble-card
                card_type: button
                entity: water_heater.omnilogic_pool_heater
                name: Pool Heater On/Off
                icon: mdi:water-boiler
                show_state: true
                tap_action:
                  action: toggle
                card_layout: large
                styles: |-
                  .bubble-name {
                      font-size: 16px !important;
                    }
                  .bubble-temperature-display {
                      font-size: 16px !important;
                      font-weight: bold;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Chlorinator
                icon: mdi:menu-open
                rows: 0.75
                styles: |
                  .bubble-name {
                    font-size: 20px !important;  /* title */
                    font-weight: bold !important;
                  }
                  .bubble-line {
                    background: var(--primary-text-color);
                    opacity: 0.1;
                  }
                  .card-content {
                    padding-top: 7px !important;
                  }
              - type: custom:bubble-card
                card_type: button
                entity: switch.omnilogic_pool_chlorinator
                show_state: true
                sub_button:
                  - entity: number.omnilogic_pool_chlorinator_timed_percent
                    show_state: true
                    show_attribute: true
                    show_background: false
                name: Chlorinator
                icon: mdi:toggle-switch-variant
                styles: |-
                  .bubble-sub-button 
                  {
                    font-size: 14px !important;
                    font-weight: 700 !important;
                  }
                  .bubble-name {
                      font-size: 16px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                button_type: state
                name: Average Salt Level
                entity: sensor.omnilogic_pool_chlorinator_average_salt_level
                show_state: false
                icon: mdi:chart-line
                card_layout: large
                sub_button:
                  - entity: sensor.omnilogic_pool_chlorinator_average_salt_level
                    state_background: false
                    show_last_changed: false
                    show_state: true
                    show_background: false
                    show_icon: false
                button_action:
                  tap_action:
                    action: more-info
                styles: |-
                  .bubble-sub-button 
                  {
                    font-size: 14px !important;
                    font-weight: 700 !important;
                  }
                  .bubble-name {
                      font-size: 16px !important;
                    }
  - !include settings-view.yaml
  - title: Music
    type: sections
    max_columns: 1
    path: music
    icon: mdi:music
    theme: Bubble
    dense_section_placement: true
    sections:
      - type: grid
        cards:
          - type: custom:stack-in-card
            mode: horizontal
            card_mod:
              style: |
                ha-card {
                  background: "rgb(92, 83, 103)";
                  border-radius: 20px;
                  padding: 10px 5px 10px 5px; 
                  }
            cards:
              - type: custom:mushroom-chips-card
                card_mod:
                  style: |
                    ha-card {
                      overflow: hidden !important;
                    }
                    ha-card > * {
                      display: flex !important;
                      flex-wrap: nowrap !important;
                      overflow-x: auto !important;
                      overflow-y: hidden !important;
                      gap: 8px !important;
                    }
                    ha-card > * > * {
                      flex-shrink: 0 !important;
                    }
                    /* More aggressive targeting */
                    ha-card ::-webkit-scrollbar {
                      height: 4px;
                    }
                    ha-card ::-webkit-scrollbar-track {
                      background: transparent;
                    }
                    ha-card ::-webkit-scrollbar-thumb {
                      background: rgba(255, 255, 255, 0.3);
                      border-radius: 2px;
                    }
                    /* Try to target all possible chip containers */
                    mushroom-chips,
                    .chip-container,
                    [class*="chip"] {
                      display: flex !important;
                      flex-wrap: nowrap !important;
                      overflow-x: auto !important;
                      overflow-y: hidden !important;
                      width: 100% !important;
                    }
                    mushroom-chip,
                    [class*="chip"]:not([class*="container"]) {
                      flex-shrink: 0 !important;
                      white-space: nowrap !important;
                    }
                chips:
                  - type: template
                    content: Back
                    tap_action:
                      action: navigate
                      navigation_path: /mobile-dash/mobile-home
                    icon: mdi:chevron-left
                    card_mod:
                      style: |
                        :host {
                          zoom: 1.25 !important;
                          --chip-background: var(--background-color-2);
                        }
          - type: custom:mediocre-media-player-card
            entity_id: media_player.living_room
            use_art_colors: false
            tap_opens_popup: true
            speaker_group:
              entity_id: media_player.living_room
              entities:
                - media_player.kitchen
                - media_player.deck
            search:
              enabled: true
    header:
      card:
        type: markdown
        content: |
          # <ha-icon icon="mdi:music"></ha-icon> Music
      layout: start
    card_mod:
      style: |
        .: |
          .badge-container ha-state-label-badge {
            --ha-label-badge-size: 58px;
            --ha-label-badge-font-size: 18px;
            --mdc-icon-size: 26px;
            border-radius: 28px;
            background: var(--secondary-background-color);
            color: var(--primary-text-color);
          }
      layout: start
      badges_position: bottom
      badges_wrap: wrap
    badges: null
    cards: []
  - title: Vacuum
    type: sections
    max_columns: 1
    path: vacuum
    icon: mdi:robot-vacuum
    theme: Bubble
    dense_section_placement: true
    header:
      card:
        type: custom:stack-in-card
        mode: vertical
        keep:
          background: true
          border_radius: true
        card_mod:
          style: |
            ha-card {
              background: "rgb(92, 83, 103)";
              border-radius: 20px;
              padding: 5px 12px 5px 12px;
              }
        cards:
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: separator
                name: Vacuum
                icon: mdi:robot-vacuum
                rows: 0.75
                styles: |
                  .bubble-name {
                    font-size: 30px !important;  /* title */
                    font-weight: bold !important;
                  }
                  .bubble-line-background-color {
                    background: var(--primary-text-color);
                    opacity: 0.1;
                  }
                  .card-content {
                    padding-top: 7px !important;
                  }
                  .bubble-sub-button 
                    {
                      font-size: 16px !important;
                      font-weight: 700 !important;
                    }
                  .bubble-icon
                    {
                      icon-height: 50px !important;
                      }
      layout: start
      badges_position: bottom
      badges_wrap: wrap
    badges:
      - type: custom:mushroom-chips-card
        chips:
          - type: template
            content: Back
            tap_action:
              action: navigate
              navigation_path: /mobile-dash/mobile-home
            icon: mdi:chevron-left
            card_mod:
              style: |
                ha-card {
                zoom: 1.25 !important;
                 }   
          - type: entity
            entity: sensor.roborock_s8_battery
            icon: mdi:battery
            icon_color: amber
            tap_action:
              action: more-info
            card_mod:
              style: |
                ha-card { zoom: 1.25 !important; }   
          - type: entity
            entity: sensor.roborock_s8_cleaning_progress
            icon: mdi:robot-vacuum
            icon_color: light-blue
            tap_action:
              action: more-info
            card_mod:
              style: |
                ha-card { zoom: 1.25 !important; }
    sections:
      - type: custom:stack-in-card
        mode: vertical
        keep:
          background: true
          border_radius: true
        card_mod:
          style: |
            ha-card {
              background: "rgb(92, 83, 103)";
              border-radius: 20px;
              padding: 12px 12px 4px;
              }
        cards:
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: separator
                name: Vacuum
                icon: mdi:menu-open
                rows: 0.75
                styles: |
                  .bubble-name {
                    font-size: 20px !important;  /* title */
                    font-weight: bold !important;
                  }
                  .bubble-line {
                    background: var(--primary-text-color);
                    opacity: 0.1;
                  }
                  .card-content {
                    padding-top: 7px !important;
                  }
              - type: custom:bubble-card
                card_type: button
                button_type: switch
                entity: vacuum.roborock_s8
                scrolling_effect: false
                show_state: true
                show_attribute: true
                attribute: battery_level
                sub_button:
                  - entity: vacuum.roborock_s8
                    show_attribute: false
                    state_background: false
                    show_icon: false
                styles: |
                  .bubble-name {
                    font-size: 16px !important;
                    }
              - type: custom:bubble-card
                name: Suction Level
                icon: mdi:fan
                card_type: button
                card_layout: large
                button_type: state
                entity: input_select.vacuum_suction_mode
                show_state: false
                sub_button:
                  - entity: input_select.vacuum_suction_mode
                    show_background: true
                    show_attribute: false
                    show_state: true
                    show_icon: false                   
                styles: |
                  .bubble-name {
                    font-size: 16px !important;
                    }
              - type: custom:bubble-card
                name: Mop Intensity
                icon: mdi:water
                card_type: button
                card_layout: large
                button_type: state
                entity: select.roborock_s8_mop_intensity
                show_state: false
                sub_button:
                  - entity: select.roborock_s8_mop_intensity
                    show_background: true
                    show_attribute: false
                    show_state: true
                    show_icon: false                   
                styles: |
                  .bubble-name {
                    font-size: 16px !important;
                    }
              - type: custom:bubble-card
                name: Mop Mode
                icon: mdi:heating-coil
                card_type: button
                card_layout: large
                button_type: state
                entity: select.roborock_s8_mop_mode
                show_state: false
                sub_button:
                  - entity: select.roborock_s8_mop_mode
                    show_background: true
                    show_attribute: false
                    show_state: true
                    show_icon: false                   
                styles: |
                  .bubble-name {
                    font-size: 16px !important;
                    }
              - type: custom:bubble-card
                card_type: button
                card_layout: large
                button_type: state
                modules:
                  - default
                entity: script.1750692869441
                show_state: false
                icon: mdi:play
                tap_action:
                  action: perform-action
                  perform_action: script.1750692869441
                  target: {}
                button_action:
                  tap_action:
                    action: perform-action
                    perform_action: script.1750692869441
                    target: {}
                styles: |
                  .bubble-name {
                    font-size: 16px !important;
                    }
              - type: custom:bubble-card
                card_type: separator
                name: Basement
                icon: mdi:menu-open
                rows: 0.75
                styles: |
                  .bubble-name {
                    font-size: 20px !important;  /* title */
                    font-weight: bold !important;
                  }
                  .bubble-line {
                    background: var(--primary-text-color);
                    opacity: 0.1;
                  }
                  .card-content {
                    padding-top: 7px !important;
                  }
              - type: entities
                entities:
                  - entity: input_boolean.vacuum_mudroom
                    name: Mudroom
                  - entity: input_boolean.vacuum_basement_bathroom
                    name: Bathroom
                  - entity: input_boolean.vacuum_gym
                    name: Gym
                  - entity: input_boolean.vacuum_media_room
                    name: Media Room
                  - entity: input_boolean.vacuum_basement_hallway
                    name: Hallway
                state_color: true
                card_mod:
                  style: |
                    ha-card {
                      font-size: 16px;
                      font-weight: bold;
                      background: var(--background-color-2)
                      border-radius: 10px;
                      }
              - type: custom:bubble-card
                card_type: separator
                name: First Floor
                icon: mdi:menu-open
                rows: 0.75
                styles: |
                  .bubble-name {
                    font-size: 20px !important;  /* title */
                    font-weight: bold !important;
                  }
                  .bubble-line {
                    background: var(--primary-text-color);
                    opacity: 0.1;
                  }
                  .card-content {
                    padding-top: 7px !important;
                  }
              - type: entities
                entities:
                  - entity: input_boolean.vacuum_kitchen
                    name: Kitchen
                  - entity: input_boolean.vacuum_living_room
                    name: Living Room
                  - entity: input_boolean.vacuum_first_floor_bathroom
                    name: Bathroom
                  - entity: input_boolean.vacuum_dining_room
                    name: Dining Room
                  - entity: input_boolean.vacuum_entry
                    name: Entry
                state_color: true
                card_mod:
                  style: |
                    ha-card {
                      font-size: 16px;
                      font-weight: bold;
                      background: var(--background-color-2)
                      border-radius: 10px;
                      }
              - type: custom:bubble-card
                card_type: separator
                name: Second Floor
                icon: mdi:menu-open
                rows: 0.75
                styles: |
                  .bubble-name {
                    font-size: 20px !important;  /* title */
                    font-weight: bold !important;
                  }
                  .bubble-line {
                    background: var(--primary-text-color);
                    opacity: 0.1;
                  }
                  .card-content {
                    padding-top: 7px !important;
                  }
              - type: entities
                entities:
                  - entity: input_boolean.vacuum_second_floor_hallway
                    name: Hallway
                  - entity: input_boolean.vacuum_guest_bathroom
                    name: Guest Bathroom
                  - entity: input_boolean.vacuum_office
                    name: Office
                  - entity: input_boolean.vacuum_front_guest_bedroom
                    name: Front Guest Bedroom
                  - entity: input_boolean.vacuum_back_guest_bedroom
                    name: Back Guest Bedroom
                  - entity: input_boolean.vacuum_primary_bedroom
                    name: Primary Bedroom
                  - entity: input_boolean.vacuum_primary_bathroom
                    name: Primary Bathroom
                state_color: true
                card_mod:
                  style: |
                    ha-card {
                      font-size: 16px;
                      font-weight: bold;
                      background: var(--background-color-2)
                      border-radius: 10px;
                      }

