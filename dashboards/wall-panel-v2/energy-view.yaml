# lovelace_gen
title: Energy
path: energy-view
theme: Wall Panel
type: custom:grid-layout
cards:
  - type: custom:button-card
    styles:
      card:
        - border-radius: 0px
        - padding-bottom: 5px
        - padding-left: 0px
        - padding-top: 0px
        - margin-left: -4px
        - margin-top: -4px        
        - width: 2048px
        - height: 1536px
        - background: radial-gradient(circle,rgba(85, 89, 92, 1) 0%, rgba(0, 0, 0, 1) 85%);
      grid:
        - grid-template-areas: |
            "header header"
            "main1 main2"
            "nav nav"
        - grid-template-columns: 1019px 1019px
        - grid-template-rows: 150px 1206px 150px
        - align-items: start
        - column-gap: 10px
        - row-gap: 15px
      custom_fields:
        main1:
          - margin-left: 50px
        main2:
          - margin-right: 50px
          - height: 100%
    custom_fields:
      header: !include header.yaml
      main1: 
        card: 
          type: vertical-stack 
          cards: 
            - type: custom:bubble-card
              card_type: button
              button_type: state
              sub_button:
                main:
                  - entity: sensor.bayberry_home_usage
                    show_state: true
                    show_icon: false
                bottom: []
              slider_fill_orientation: left
              slider_value_position: right
              entity: sensor.bayberry_home_usage
              name: Today's Energy Used
              show_state: false
              modules:
                - wall_panel_scenes
          type: vertical-stack 
          cards: 
            - type: custom:bubble-card
              card_type: button
              button_type: state
              sub_button:
                main:
                  - entity: sensor.bayberry_home_usage
                    show_state: true
                    show_icon: false
                bottom: []
              slider_fill_orientation: left
              slider_value_position: right
              entity: sensor.bayberry_home_usage
              name: Today's Energy Used
              show_state: false
              modules:
                - wall_panel_scenes
            - type: custom:bubble-card
              card_type: button
              button_type: state
              sub_button:
                main:
                  - entity: sensor.solcast_pv_forecast_forecast_today
                    show_state: true
                    show_icon: false
                bottom: []
              slider_fill_orientation: left
              slider_value_position: right
              entity: sensor.solcast_pv_forecast_forecast_today
              name: Today's Solar Forecast
              show_state: false
              modules:
                - wall_panel_scenes
            - type: custom:bubble-card
              card_type: button
              button_type: state
              sub_button:
                main:
                  - entity: number.bayberry_backup_reserve
                    show_state: true
                    show_icon: false
                bottom: []
              slider_fill_orientation: left
              slider_value_position: right
              entity: number.bayberry_backup_reserve
              name: Powerwall Backup Reserve
              show_state: false
              modules:
                - wall_panel_scenes
      main2: 
        card:
          type: custom:power-flow-card-plus
          clickable_entities: true
          card_mod:
            style: |
              ha-card {
                font-size: 14px !important;
                background: var(--background-color) !important;
                height: 100% !important;
              }

              ha-card * {
                font-size: 12px !important;
                font-weight: bold !important;
              }

              ha-card .value,
              ha-card [class*="value"],
              ha-card .power-value {
                font-size: 12px !important;
                font-weight: bold !important;
              }

              ha-card .label,
              ha-card [class*="label"],
              ha-card .entity-name {
                font-size: 16px !important;
                font-weight: bold !important;
              }

              ha-card .individual *,
              ha-card [class*="individual"] * {
                font-size: 12px !important;
              }

              ha-card .secondary,
              ha-card [class*="secondary"] {
                font-size: 12px !important;
                opacity: 0.8;
              }
          entities:
            battery:
              entity: sensor.bayberry_battery_power
              state_of_charge: sensor.bayberry_charge
              color:
                consumption: '#327C7F'
                production: '#327C7F'
              color_icon: true
              show_state_of_charge: true
            grid:
              entity: sensor.bayberry_site_power
              color_icon: false
              color:
                consumption: var(--primary-text-color)
                production: var(--primary-text-color)
                color_value: true
              power_outage:
                icon_alert: mdi:flash-alert
              use_metadata: false
              invert_state: false
              color_value: false
              secondary_info:
                entity: sensor.net_grid_export
                unit_of_measurement: kWh
            solar:
              entity: sensor.bayberry_solar_power
              color_icon: false
              color: "#dd8e02"
            home:
              entity: sensor.bayberry_load_power
              subtract_individual: true
            individual:
              - entity: sensor.wall_charger_power
                display_zero: false
                name: Car Charging
                icon: mdi:car-electric
                color: '#E74C3C'
              - entity: sensor.well_pump_power
                name: Well Pump
                color: '#3ea4f0'
                color_value: false
                display_zero: false
                icon: mdi:sprinkler-variant
              - entity: sensor.omnilogic_pool_filter_pump_power
                name: Pool Filter
                color: '#5cb5e1'
                color_value: false
                display_zero: false
                icon: mdi:pool
          display_zero_lines:
            mode: show
            transparency: 50
            grey_color:
              - 189
              - 189
              - 189
      nav: !include footer-menu.yaml