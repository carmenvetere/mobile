type: custom:energy-sankey-power-flow-card
config_version: 3
power_from_grid_entity: sensor.bayberry_grid_power
consumer_entities:
  - entity: sensor.bayberry_load_power
    name: House
  - entity: sensor.wall_charger_power
    name: EV Charger
battery_entities:
  - entity: sensor.bayberry_battery_power
    name: Powerwall
title: Live Power Flow
independent_grid_in_out: false
generation_entity: sensor.bayberry_solar_power
card_mod:
  style:
    .: |
      .card-header {
        justify-content: flex-start !important;
        text-align: left !important;
        font-size: 36px !important;
        font-weight: bold !important;
      }

      .card-header::before {
        content: "";
        display: inline-block;
        width: 60px;
        height: 60px;
        margin-right: 20px;
        margin-left: 10px;
        vertical-align: middle;
        background-color: var(--primary-text-color);
        -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M11 15H6L13 1V9H18L11 23V15Z'/%3E%3C/svg%3E");
        mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M11 15H6L13 1V9H18L11 23V15Z'/%3E%3C/svg%3E");
        mask-size: contain;
        -webkit-mask-size: contain;
      }

      ha-card {
        font-size: 18px !important;
        font-weight: bold !important;
        max-width: 690px !important;
        max-height: 1209px !important;
        margin-left: 15px !important;
        background: var(--background-color) !important;
      }
    ha-elec-sankey $: |
      :host {
        --generation-color: var(--energy-solar-color);
        --grid-in-color: var(--accent-color) !important;
        --batt-in-color: var(--accent-color-2) !important;
      }
      .label {
        font-size: 16px !important;
      }
