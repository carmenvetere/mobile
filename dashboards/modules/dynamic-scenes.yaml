# lovelace_gen
type: vertical-stack
cards:
{% if dashboard == 'basement_wall_panel' %}
  - type: custom:config-template-card
    variables:
      - states['media_player.media_room'].state
      - new Date().getMonth() + 1
    entities:
      - media_player.media_room
      - media_player.mud_room
      - media_player.pool
    card:
      type: custom:sonos-card
      entityId: |-
        ${vars[0] === 'playing'
          ? 'media_player.media_room_soundbar'
          : ([6,7,8,9].includes(vars[1])
            ? 'media_player.pool'
            : 'media_player.mud_room')}
      sections:
        - player
      player:
        hideControlPowerButton: false
        hideControlPrevTrackButton: false
        hideControlRepeatButton: true
        hideControlShuffleButton: true
        controlsLargeIcons: true
      heightPercentage: auto
      card_mod:
        style:
          sonos-player$: |
            .container {        
              grid-template-areas:
                  'artwork header'
                  'artwork controls' !important;
              grid-template-columns: 1fr 2fr !important;
              grid-template-rows: 1fr 2fr !important;
              margin: 10px !important;
            }
          sonos-player$ sonos-player-header$: |
            .song {
              color: var(--primary-text-color) !important;
              font-size: 24px !important;
              font-weight: bold !important;
            }
            .entity {
              color: var(--primary-text-color) !important;
              font-size: 24px !important;
              font-weight: 600 !important;
            }
            .artist-album {
              color: var(--primary-text-color) !important;
              font-size: 24px !important;
              font-weight: 500 !important;
            }   
          .: |
            :host {
              --mdc-icon-color: var(--text-color) !important;
              --secondary-text-color: var(--secondary-text-color) !important;
              --paper-item-icon-color: var(--secondary-text-color) !important;
              --mdc-theme-primary: var(--primary-text-color) !important;
              --mdc-icon-button-ink-color: var(--secondary-text-color) !important;
            }
            ha-card {
              margin-left: 10px !important;
              margin-right: 10px !important;
              max-width: 600px !important;
              border-radius: 20px !important;
              background-color: var(--background-color) !important;
            } 
            ha-control-slider {
              --control-slider-color: var(--primary-text-color) !important;
            }
{% endif %}
# {% if dashboard == 'basement_wall_panel' %}
#   - type: custom:bubble-card
#     card_type: separator
#     name: Scenes
#     icon: mdi:lamp
#     styles: |
#       .bubble-name {
#       font-size: 28px !important;  /* title */
#       font-weight: bold !important;
#       }
#       .bubble-line {
#       background: var(--primary-text-color);
#       opacity: 0.1;
#       }
#       .card-content {
#       padding-top: 0px !important;
#       padding-left: 10px !important;
#       margin-right: 50px !important;
#       }  
# {% endif %}
#Good Morning Scene - All Displays in Morning
  - type: custom:bubble-card
    card_type: button
    entity: binary_sensor.scene_good_morning
    name: Morning
    icon: mdi:weather-sunset-up
    visibility:
      - condition: or
        conditions:
          - condition: time
            after: "05:00:00"
            before: "12:00:00"
          - condition: numeric_state
            entity: sensor.sun_solar_elevation
            above: 10
    button_action:
      tap_action:
        action: perform-action
        perform_action: scene.turn_on
        target:
          entity_id: scene.good_morning_2
    tap_action:
      action: perform-action
      perform_action: scene.turn_on
      target:
        entity_id: scene.good_morning_2
    card_layout: large
    scrolling_effect: false
    modules:
    - {{ module_name }}
# Basement Working - Basement Wall Panel Day
{% if dashboard == 'basement_wall_panel' %}
  - type: custom:bubble-card
    card_type: button
    entity: binary_sensor.scene_basement_work
    name: Working
    icon: mdi:desk-lamp
    visibility:
      - condition: or
        conditions:
          - condition: time
            after: "05:00:00"
            before: "12:00:00"
          - condition: numeric_state
            entity: sensor.sun_solar_elevation
            above: 10
    button_action:
      tap_action:
        action: perform-action
        perform_action: scene.turn_on
        target:
          entity_id: scene.basement_work
    tap_action:
      action: perform-action
      perform_action: scene.turn_on
      target:
        entity_id: scene.basement_work
    card_layout: large
    scrolling_effect: false
    modules:
    - {{ module_name }}
{% endif %}
# Basement Cleaning - Basement Wall Panel Day
{% if dashboard == 'basement_wall_panel' %}
  - type: custom:bubble-card
    card_type: button
    entity: binary_sensor.scene_basement_cleaning
    name: Cleaning
    icon: mdi:spray-bottle
    visibility:
      - condition: or
        conditions:
          - condition: time
            after: "05:00:00"
            before: "12:00:00"
          - condition: numeric_state
            entity: sensor.sun_solar_elevation
            above: 10
    button_action:
      tap_action:
        action: perform-action
        perform_action: scene.turn_on
        target:
          entity_id: scene.basement_cleaning
    tap_action:
      action: perform-action
      perform_action: scene.turn_on
      target:
        entity_id: scene.basement_cleaning
    card_layout: large
    scrolling_effect: false
    modules:
    - {{ module_name }}
{% endif %}
# Welcome Evening Scene - Basement Wall Panel in Evening
  - type: custom:bubble-card
    card_type: button
    entity: binary_sensor.scene_welcome
    name: Welcome
    icon: mdi:human-greeting
    visibility:
      - condition: and
        conditions:
          - condition: numeric_state
            entity: sensor.sun_solar_elevation
            below: 10
          - condition: time
            after: "12:00:00"
            before: "22:00:00"
    button_action:
      tap_action:
        action: perform-action
        perform_action: scene.turn_on
        target:
          entity_id: scene.welcome
    tap_action:
      action: perform-action
      perform_action: scene.turn_on
      target:
        entity_id: scene.welcome
    card_layout: large
    scrolling_effect: false
    modules:
    - {{ module_name }}
# Basement Evening Scene - All in Evening
{% if dashboard == 'basement_wall_panel' %}
  - type: custom:bubble-card
    card_type: button
    entity: binary_sensor.scene_basement_evening
    name: Basement Evening
    icon: mdi:moon-waning-crescent
    visibility:
      - condition: and
        conditions:
          - condition: numeric_state
            entity: sensor.sun_solar_elevation
            below: 10
          - condition: time
            after: "12:00:00"
            before: "22:00:00"
          - condition: state
            entity: input_boolean.dinner_party
            state: 'off'
    button_action:
      tap_action:
        action: perform-action
        perform_action: scene.turn_on
        target:
          entity_id: scene.basement_evening
    tap_action:
      action: perform-action
      perform_action: scene.turn_on
      target:
        entity_id: scene.basement_evening
    card_layout: large
    scrolling_effect: false
    modules:
    - {{ module_name }}
{% endif %}
# Basement Entertaining Scene - Basement Wall in Evening
{% if dashboard == 'basement_wall_panel' %}
  - type: custom:bubble-card
    card_type: button
    entity: binary_sensor.scene_basement_entertaining
    name: Basement Entertaining
    icon: mdi:party-popper
    visibility:
      - condition: and
        conditions:
          - condition: numeric_state
            entity: sensor.sun_solar_elevation
            below: 10
          - condition: time
            after: "12:00:00"
            before: "22:00:00"
          - condition: state
            entity: input_boolean.dinner_party
            state: 'on'
    button_action:
      tap_action:
        action: perform-action
        perform_action: scene.turn_on
        target:
          entity_id: scene.basement_entertaining
    tap_action:
      action: perform-action
      perform_action: scene.turn_on
      target:
        entity_id: scene.basement_entertaining
    card_layout: large
    scrolling_effect: false
    modules:
    - {{ module_name }}
{% endif %}
# Basement Movie Scene - Basement Wall in Evening
{% if dashboard == 'basement_wall_panel' %}
  - type: custom:bubble-card
    card_type: button
    entity: binary_sensor.scene_movie
    name: Movie
    icon: mdi:movie-open-play
    visibility:
      - condition: and
        conditions:
          - condition: numeric_state
            entity: sensor.sun_solar_elevation
            below: 10
          - condition: time
            after: "12:00:00"
            before: "22:00:00"
    button_action:
      tap_action:
        action: perform-action
        perform_action: scene.turn_on
        target:
          entity_id: scene.movie
    tap_action:
      action: perform-action
      perform_action: scene.turn_on
      target:
        entity_id: scene.movie
    card_layout: large
    scrolling_effect: false
    modules:
    - {{ module_name }}
{% endif %}
# First Floor Evening Scene - Mobile in Evening
{% if dashboard in ['mobile'] %}
  - type: custom:bubble-card
    card_type: button
    entity: binary_sensor.scene_evening
    name: First Floor Evening
    icon: mdi:moon-waning-crescent
    visibility:
      - condition: and
        conditions:
          - condition: numeric_state
            entity: sensor.sun_solar_elevation
            below: 10
          - condition: time
            after: "12:00:00"
            before: "22:00:00"
    button_action:
      tap_action:
        action: perform-action
        perform_action: scene.turn_on
        target:
          entity_id: scene.evening
    tap_action:
      action: perform-action
      perform_action: scene.turn_on
      target:
        entity_id: scene.evening
    card_layout: large
    scrolling_effect: false
    modules:
    - {{ module_name }}
{% endif %}
# First Floor Entertaining Scene - Mobile in Evening
{% if dashboard in ['mobile'] %}
  - type: custom:bubble-card
    card_type: button
    entity: binary_sensor.scene_entertaining
    name: Entertaining
    icon: mdi:glass-cocktail
    visibility:
      - condition: or
        conditions:
          - condition: and
            conditions:
              - condition: numeric_state
                entity: sensor.sun_solar_elevation
                below: 10
              - condition: time
                after: "12:00:00"
                before: "22:00:00"
          - condition: time
            after: "22:00:00"
            before: "05:00:00"
    button_action:
      tap_action:
        action: perform-action
        perform_action: scene.turn_on
        target:
          entity_id: scene.entertaining
    tap_action:
      action: perform-action
      perform_action: scene.turn_on
      target:
        entity_id: scene.entertaining
    card_layout: large
    scrolling_effect: false
    modules:
    - {{ module_name }}
{% endif %}
# Emergency Scene - All Displays Night
  - type: custom:bubble-card
    card_type: button
    entity: binary_sensor.scene_emergency
    name: Emergency
    icon: mdi:hospital
    visibility:
      - condition: time
        after: "22:00:00"
        before: "05:00:00"
    button_action:
      tap_action:
        action: perform-action
        perform_action: scene.turn_on
        target:
          entity_id: scene.emergency
    tap_action:
      action: perform-action
      perform_action: scene.turn_on
      target:
        entity_id: scene.emergency
    card_layout: large
    scrolling_effect: false
    modules:
    - {{ module_name }}
# Nightlight Scene - All Displays Evening and Night
  - type: custom:bubble-card
    card_type: button
    entity: binary_sensor.scene_nightlight
    name: Nightlight
    icon: mdi:lightbulb-night
    visibility:
      - condition: time
        after: "22:00:00"
        before: "05:00:00"
    button_action:
      tap_action:
        action: perform-action
        perform_action: scene.turn_on
        target:
          entity_id: scene.nightlight
    tap_action:
      action: perform-action
      perform_action: scene.turn_on
      target:
        entity_id: scene.nightlight
    card_layout: large
    scrolling_effect: false
    modules:
    - {{ module_name }}
#Outdoor Scene - All Displays All Times
  - type: custom:bubble-card
    card_type: button
    entity: binary_sensor.scene_outdoor_on
    name: Outdoor
    icon: mdi:coach-lamp
    button_action:
        tap_action:
          action: perform-action
          perform_action: scene.turn_on
          target:
            entity_id: scene.outdoor_on
    card_layout: large
    scrolling_effect: false
    modules:
    - {{ module_name }}
# All Off Scene - All Displays All Times    
  - type: custom:bubble-card
    card_type: button
    entity: binary_sensor.scene_good_night
    name: All Off
    icon: mdi:lightbulb-off
    button_action:
      tap_action:
        action: perform-action
        perform_action: scene.turn_on
        target:
          entity_id: scene.good_night
    tap_action:
      action: perform-action
      perform_action: scene.turn_on
      target:
        entity_id: scene.good_night
    card_layout: large
    scrolling_effect: false
    modules:
    - {{ module_name }}