title: Alarm
theme: buttom
path: alarm-view
type: custom:grid-layout
cards:
  - type: custom:button-card
    styles:
      card:
        - border-radius: 0px
        - padding-bottom: 5px
        - padding-left: 0px
        - margin: '-4px'
        - padding-top: 0px
        - box-shadow: rgba(0,0,0,.35) 0px 5px 15px
        - height: 480px
        - width: 480px
      grid:
        - grid-template-areas: |
            "header"
            "main"
            "nav"
        - grid-template-columns: auto
        - grid-template-rows: 50px 380px 50px
        - align-items: start
        - column-gap: 2px
    custom_fields:
      header: !include header.yaml
      main:
        card:
          type: custom:button-card
          entity: alarm_control_panel.bayberry_alarm_v2
          show_name: false
          show_icon: false
          show_state: false
          styles:
            card:
              - height: 380px
              - width: 456px
              - padding: 12px
              - margin: 0px
              - border-radius: 0px
              - background-color: transparent
            grid:
              - grid-template-areas: |
                  "display"
                  "keypad"
                  "controls"
              - grid-template-columns: auto
              - grid-template-rows: 40px 260px 60px
              - row-gap: 10px
              - align-items: center
              - justify-items: center
          custom_fields:
            # Code Display
            display:
              card:
                type: custom:button-card
                show_name: false
                show_icon: false
                show_state: true
                entity: input_text.alarm_code_input
                styles:
                  card:
                    - height: 40px
                    - width: 280px
                    - border-radius: 8px
                    - background-color: '#FFFFFF'
                    - border: 2px solid '#666666'
                  state:
                    - color: white
                    - font-size: 24px
                    - font-weight: bold
                    - letter-spacing: 8px  
            # Number Keypad
            keypad:
              card:
                type: custom:button-card
                show_name: false
                show_icon: false
                show_state: false
                styles:
                  card:
                    - height: 260px
                    - width: 300px
                    - background-color: transparent
                    - border-radius: 0px
                    - padding-top: 0px
                    - padding-left: 5px
                  grid:
                    - grid-template-areas: |
                        "n1 n2 n3"
                        "n4 n5 n6"
                        "n7 n8 n9"
                        "clear n0 enter"
                    - grid-template-columns: 90px 90px 90px
                    - grid-template-rows: 60px 60px 60px 60px
                    - row-gap: 3px
                    - column-gap: 5px
                custom_fields:
                  n1:
                    card:
                      type: custom:button-card
                      show_label: true
                      show_icon: false
                      show_state: false
                      label: '1'
                      tap_action:
                        action: call-service
                        service: input_text.set_value
                        service_data:
                          entity_id: input_text.alarm_code_input
                      styles:
                        card:
                          - height: 60px
                          - width: 85px
                          - border-radius: 8px
                          - background-color: '#DDE0E7'
                          - border: 1px solid '#BDBDBD'
                        label:
                          - color: var(--primary-text-color)
                          - font-size: 20px
                          - font-weight: bold
                  n2:
                    card:
                      type: custom:button-card
                      show_label: true
                      show_icon: false
                      show_state: false
                      label: '2'
                      tap_action:
                        action: call-service
                        service: input_text.set_value
                        service_data:
                          entity_id: input_text.alarm_code_input
                      styles:
                        card:
                          - height: 60px
                          - width: 85px
                          - border-radius: 8px
                          - background-color: '#DDE0E7'
                          - border: 1px solid '#BDBDBD'
                        label:
                          - color: var(--primary-text-color)
                          - font-size: 20px
                          - font-weight: bold                       
                  n3:
                    card:
                      type: custom:button-card
                      show_label: true
                      show_icon: false
                      show_state: false
                      label: '3'
                      tap_action:
                        action: call-service
                        service: input_text.set_value
                        service_data:
                          entity_id: input_text.alarm_code_input
                      styles:
                        card:
                          - height: 60px
                          - width: 85px
                          - border-radius: 8px
                          - background-color: '#DDE0E7'
                          - border: 1px solid '#BDBDBD'
                        label:
                          - color: var(--primary-text-color)
                          - font-size: 20px
                          - font-weight: bold
                  n4:
                    card:
                      type: custom:button-card
                      show_label: true
                      show_icon: false
                      show_state: false
                      label: '4'
                      tap_action:
                        action: call-service
                        service: input_text.set_value
                        service_data:
                          entity_id: input_text.alarm_code_input
                      styles:
                        card:
                          - height: 60px
                          - width: 85px
                          - border-radius: 8px
                          - background-color: '#DDE0E7'
                          - border: 1px solid '#BDBDBD'
                        label:
                          - color: var(--primary-text-color)
                          - font-size: 20px
                          - font-weight: bold
                  n5:
                    card:
                      type: custom:button-card
                      show_label: true
                      show_icon: false
                      show_state: false
                      label: '5'
                      tap_action:
                        action: call-service
                        service: input_text.set_value
                        service_data:
                          entity_id: input_text.alarm_code_input
                      styles:
                        card:
                          - height: 60px
                          - width: 85px
                          - border-radius: 8px
                          - background-color: '#DDE0E7'
                          - border: 1px solid '#BDBDBD'
                        label:
                          - color: var(--primary-text-color)
                          - font-size: 20px
                          - font-weight: bold
                  n6:
                    card:
                      type: custom:button-card
                      show_label: true
                      show_icon: false
                      show_state: false
                      label: '6'
                      tap_action:
                        action: call-service
                        service: input_text.set_value
                        service_data:
                          entity_id: input_text.alarm_code_input
                      styles:
                        card:
                          - height: 60px
                          - width: 85px
                          - border-radius: 8px
                          - background-color: '#DDE0E7'
                          - border: 1px solid '#BDBDBD'
                        label:
                          - color: var(--primary-text-color)
                          - font-size: 20px
                          - font-weight: bold
                  n7:
                    card:
                      type: custom:button-card
                      show_label: true
                      show_icon: false
                      show_state: false
                      label: '7'
                      tap_action:
                        action: call-service
                        service: input_text.set_value
                        service_data:
                          entity_id: input_text.alarm_code_input
                      styles:
                        card:
                          - height: 60px
                          - width: 85px
                          - border-radius: 8px
                          - background-color: '#DDE0E7'
                          - border: 1px solid '#BDBDBD'
                        label:
                          - color: var(--primary-text-color)
                          - font-size: 20px
                          - font-weight: bold
                  n8:
                    card:
                      type: custom:button-card
                      show_label: true
                      show_icon: false
                      show_state: false
                      label: '8'
                      tap_action:
                        action: call-service
                        service: input_text.set_value
                        service_data:
                          entity_id: input_text.alarm_code_input
                      styles:
                        card:
                          - height: 60px
                          - width: 85px
                          - border-radius: 8px
                          - background-color: '#DDE0E7'
                          - border: 1px solid '#BDBDBD'
                        label:
                          - color: var(--primary-text-color)
                          - font-size: 20px
                          - font-weight: bold
                  n9:
                    card:
                      type: custom:button-card
                      show_label: true
                      show_icon: false
                      show_state: false
                      label: '9'
                      tap_action:
                        action: call-service
                        service: input_text.set_value
                        service_data:
                          entity_id: input_text.alarm_code_input
                      styles:
                        card:
                          - height: 60px
                          - width: 85px
                          - border-radius: 8px
                          - background-color: '#DDE0E7'
                          - border: 1px solid '#BDBDBD'
                        label:
                          - color: var(--primary-text-color)
                          - font-size: 20px
                          - font-weight: bold
                  n0:
                    card:
                      type: custom:button-card
                      show_label: true
                      show_icon: false
                      show_state: false
                      label: '0'
                      tap_action:
                        action: call-service
                        service: input_text.set_value
                        service_data:
                          entity_id: input_text.alarm_code_input
                      styles:
                        card:
                          - height: 60px
                          - width: 85px
                          - border-radius: 8px
                          - background-color: '#DDE0E7'
                          - border: 1px solid '#BDBDBD'
                        label:
                          - color: var(--primary-text-color)
                          - font-size: 20px
                          - font-weight: bold
                  clear:
                    card:
                      type: custom:button-card
                      show_name: false
                      show_icon: true
                      show_state: false
                      icon: mdi:backspace
                      tap_action:
                        action: call-service
                        service: input_text.set_value
                        service_data:
                          entity_id: input_text.alarm_code_input
                      styles:
                        card:
                          - height: 60px
                          - width: 85px
                          - border-radius: 8px
                          - background-color: '#DDE0E7'
                          - border: 1px solid '#BDBDBD'
                        icon:
                          - color: '#D32F2F'
                          - size: 20px
                  enter:
                    card:
                      type: custom:button-card
                      show_name: false
                      show_icon: true
                      show_state: false
                      icon: mdi:check
                      tap_action:
                        action: call-service
                        service: script.alarm_code_entry
                        service_data:
                      styles:
                        card:
                          - height: 60px
                          - width: 85px
                          - border-radius: 8px
                          - background-color: '#DDE0E7'
                          - border: 1px solid '#BDBDBD'
                        icon:
                          - color: '#388E3C'
                          - size: 20px
                          
            # Three-way Mode Controls (similar to climate view)
            controls:
              card:
                type: custom:button-card
                show_name: false
                show_icon: false
                show_state: false
                styles:
                  card:
                    - height: 70px
                    - width: 450px
                    - padding: 0
                    - margin: 0px
                    - border-radius: 12px
                    - background-color: '#D7D9DF'
                  grid:
                    - grid-template-areas: |
                        "disarm home away"
                    - grid-template-columns: 150px 150px 150px
                    - grid-template-rows: 70px
                    - column-gap: 5px
                    - align-items: center
                custom_fields:
                  disarm:
                    card:
                      type: custom:button-card
                      entity: alarm_control_panel.bayberry_alarm_v2
                      show_state: false
                      show_name: true
                      show_icon: true
                      name: Disarm
                      icon: mdi:shield-off
                      size: 25%
                      tap_action:
                        action: call-service
                        service: alarm_control_panel.alarm_disarm
                        service_data:
                          entity_id: alarm_control_panel.bayberry_alarm_v2
                      styles:
                        card:
                          - height: 65px
                          - width: 150px
                          - border-radius: 12px
                          - background-color: '#D7D9DF'
                        name:
                          - font-size: 12px
                          - font-weight: bold
                          - color: black
                        state:                
                          - value: 'DISARMED'
                            styles:
                              card:
                                - background-color: '#F44336'
                              name:
                                - color: white
                              icon:
                                - color: white
                  home:
                    card:
                      type: custom:button-card
                      entity: alarm_control_panel.bayberry_alarm_v2
                      show_state: false
                      show_name: true
                      show_icon: true
                      name: Armed Home
                      icon: mdi:shield-home
                      size: 25%
                      tap_action:
                        action: call-service
                        service: alarm_control_panel.alarm_arm_home
                        service_data:
                          entity_id: alarm_control_panel.bayberry_alarm_v2
                      styles:
                        card:
                          - height: 65px
                          - width: 150px
                          - border-radius: 12px
                          - background-color: '#D7D9DF'
                        name:
                          - font-size: 12px
                          - font-weight: bold
                          - color: black
                        state:                
                          - value: 'ARMED_HOME'
                            styles:
                              card:
                                - background-color: '#F44336'
                              name:
                                - color: white
                              icon:
                                - color: white
                  away:
                    card:
                      type: custom:button-card
                      entity: alarm_control_panel.bayberry_alarm_v2
                      show_state: false
                      show_name: true
                      show_icon: true
                      name: Armed Away
                      icon: mdi:shield-lock
                      size: 25%
                      tap_action:
                        action: call-service
                        service: alarm_control_panel.alarm_arm_away
                        target:
                          entity_id: alarm_control_panel.bayberry_alarm_v2
                        data:
                      styles:
                        card:
                          - height: 65px
                          - width: 150px
                          - border-radius: 12px
                          - background-color: '#D7D9DF'
                        name:
                          - font-size: 12px
                          - font-weight: bold
                          - color: black
                        state:                
                          - value: 'ARMED_AWAY'
                            styles:
                              card:
                                - background-color: '#F44336'
                              name:
                                - color: white
                              icon:
                                - color: white
      nav: !include footer-menu.yaml